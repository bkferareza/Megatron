@{
    Layout = null;
}

<link href="~/Content/CSS/login.css" rel="stylesheet" />

<div class="col-sm-6 col-md-4 col-md-offset-4" ng-show="mainLogin">
    <div class="modal-header">
        <center>
            <img ng-show="hasLogo" width="36" height="36" id="logo" ng-src="{{logoUrl}}" />
            <h1 ng-show="!hasLogo" class="text-center">LOGO</h1>
        </center>
    </div>
    <div class="account-wall">
        <form class="form-signin" name="UserInfo" novalidate>
            <div class="progress" ng-show="logging">
                <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%">
                    Logging in
                </div>
            </div>
            <input type="text" placeholder="Username" name="username" class="form-control" ng-model=account.Username required autofocus />
            <input type="password" placeholder="Password" name="password" class="form-control" ng-model=account.Password required />
            <a class="btn btn-link" ng-click="toggleModal()">
                Forgot Password?
            </a>
            <button class="btn btn-lg btn-primary pull-right" ng-click="login_(account)" ng-disabled="!UserInfo.$valid" type="submit">
                Sign in
            </button>

        </form>
    </div>
</div>

<div ng-show='showModal' class="col-sm-6 col-md-4 col-md-offset-4">
    <div class="account-wall">
        <h1 class="text-center">LOGO</h1>
        <form class="form-signin" name="login" id="login">
            <h5>Forgot Password</h5>
            <div class="progress" ng-show="logging">
                <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%">
                    Resetting password...
                </div>
            </div>
            Email Address:
            <input type="email" placeholder="Email Address" class="form-control" name="Email" ng-model=account.Email required autofocus />
            <br />
            <button class="btn btn-lg btn-primary" ng-click="forgetPassword(account.Email)" ng-disabled="!login.$valid">
                OK
            </button>
            <button class="btn btn-lg btn-primary" ng-click="toggleModal()">
                Cancel
            </button>
        </form>
    </div>
</div>

<div ng-show='showFirstTime' class="col-sm-6 col-md-4 col-md-offset-4">
    <div class="modal-header">
        <center>
            <img ng-show="hasLogo" width="36" height="36" id="logo" ng-src="{{logoUrl}}" />
            <h1 ng-show="!hasLogo" class="text-center">LOGO</h1>
        </center>
    </div>
    <div class="account-wall">
        <form class="form-signin" name="Password" id="Password">
            <h5>First Time Login</h5>
            <div class="progress" ng-show="logging">
                <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:100%">
                    Changing Password...
                </div>
            </div>
            Enter New Password: 
            <input type="password" placeholder="Password" class="form-control" name="Password" ng-model="Password1" required autofocus />
            <br />
            Re-Type Password:
            <input type="password" placeholder="Re-Type Password" class="form-control" name="Password2" ng-model="RetypePassword" required autofocus />
            <br />
            <button class="btn btn-lg btn-primary" ng-click="ChangePassword(Password1,RetypePassword,account.Username,account.Password)" ng-disabled="!Password.$valid">
                OK
            </button>
        </form>
    </div>
</div>


